## 建模位置

### 位置是相对的

位置总是与其他东西有关系。让我再说一遍，"位置总是相对的！" 例如，如果有人问你 "科罗拉多斯普林斯在哪里？"，一个典型的答案可能是 "嗯，它在丹佛以南60英里"。如果你不知道丹佛在哪里，你就 "不走运了"。

|||
|--|--|
| 所以我们需要一个 "参考点 "来描述物体的位置。我们称这个参考点为 "全局原点"。全局 "这个词表明，场景中的所有物体都是相对于这个独特的位置而言的。 | ![](/3/LocGlobalOrigin.png) |
| 此外，每个对象都会有一个 "本地原点"，相对于该对象的位置都是由它来参考的。例如，一个房间会有一个本地原点，用来定位它的墙壁和里面的家具；一个房子会有一个本地原点，用来定位房子里面的房间；一个街区会有一个本地原点，用来定位街区里面的房子。以此类推... <br /> 场景中的每个物体都是通过指定其本地原点和全局原点之间的关系来定位的。请注意，位置总是两点之间的关系。 | ![](/3/LocLocalOrigin.png) |

这些想法非常重要，让我们再次声明：

- 位置总是相对的!
- **全局原点**是场景中的一个独特的位置，所有的物体都是从这个位置开始定位的。一个场景正好有一个唯一的**全局原点**
- 场景中的每个单独的物体都有它自己的**局部原点**，物体的各个部分都是从这个**局部原点**开始定位的。
- 场景中的物体是通过指定其本地原点和场景的全局原点之间的关系来定位的。

### 描述位置

|||
|--|--|
| 我们可以通过说 "它离原点有10个单位 "这样的话来指定一个物体的位置。| ![](/3/Loc10Units.png) |
| 但我们马上有了一个问题。离原点10个单位的点有无数个。所有距离一个点10个单位的点都组成了一个圆! | ![](/3/LocProblem.png) |
| 为了指定一个独特的位置，我们可以指定哪个角度能让我们到达所需的位置。然而，角度，就像位置一样，总是相对于某些东西而言的。所以我们需要一条参考线来测量一个角度。让我们画一条通过原点的水平线。现在，我们可以用从原点出发的距离和从参考线出发的角度来指定一个准确的位置。数学家称这种位置描述为 "极坐标"。如果 "r "代表到位置的距离，"theta "代表角度，那么这对（r,theta）就描述了相对于原点和参考线的唯一位置。如果我们能摆脱角度，只处理距离，那就更好了。 | ![](/3/LocPolarCoords.png) |
| 一种选择可能是使用到物体的距离和沿参考线的距离。传统上，参考线被称为x轴，因此我们的位置描述是一对距离（r,x）。然而，这并不是一个唯一的描述，因为有两个点与这两个距离相关。 | ![](/3/WierdCoordsImage.png) |
| 那么有没有更好的一对距离可以用来定位一个点呢？如果我们创建第二条参考线，我们可以使用沿每条线的距离。第二条参考线可以在任何方向，但是如果这条线通过原点并且与原参考线成90度角，那么数学上就比较简单。所以现在我们有两个距离来定位二维空间中的物体。而移动位置所需的数学知识很简单--其简单的加法。 | ![](/3/BestCoordsImage.png) |
| 请注意，第二条参考线，也就是传统意义上的Y轴，可以放在两个可能的地方--要么往上，要么往下。而事实证明，这两个方向在计算机图形学中都有使用。当我们描述二维空间中的虚拟物体时，我们将使用 "y是向上的 "惯例，因为它是二维空间最传统的数学符号。当我们描述计算机屏幕上像素的位置时，我们将使用 "y是向下的 "约定，因为几乎所有的屏幕都是从屏幕的左上角开始定位像素，y轴从屏幕的左侧向下。这是因为历史上电脑屏幕的制作与电视显示器相同，电视屏幕上的画面是通过刷新屏幕的像素，从左上角开始，从左到右，从上到下进行刷新。 | ![](/3/YaxisOrientation.png) |
| 还要注意的是，当我们把位置描述从（距离，角度）表示法改为（距离，距离）表示法时，我们需要引入负距离的概念。在现实世界中，距离总是正的。在我们的（距离,距离）表示法中，负距离意味着沿参考线旅行，但方向相反。因此，(-2,4)代表的位置如右图所示。 | ![](/3/NegDistanceImage.png) |

在我们进入三维空间之前，让我们总结一下我们对位置的讨论：
- 位置始终是相对的!
- 位置将被指定为沿两条参考线的两个距离。
- 这些参考线从全球原点出发，相互之间成直角。
- 这些参考线创建了一个 "坐标系"，为我们的位置距离提供了意义。
- 我们把参考线称为 "轴"，该系统被称为 "笛卡尔坐标系"。
- 坐标（3,-6）定义了一个沿x轴为3个单位，沿y轴为-6个单位的位置。

### 三维位置
|||
|--|--|
| 在三维空间中描述位置的一个自然方法是使用绘图和地理应用方法，有一个距离和两个角度。这两个角度被称为经度和纬度，它们代表了与本初子午线和赤道的角度。(记住，所有的位置都是相对的！）距离是从海平面开始的，代表海拔高度。海拔总是沿着地球中心的一条线的距离，所以我们的海拔参考点实际上是地球的中心。世界上的任何地点都可以用三值表示法（经度、纬度、高度）来唯一地描述。同样，虽然这种表示方法对地图制作者和航线飞行员来说是很自然的，但使用两个角度和一个距离的组合使得操作位置的数学运算变得很麻烦。 | ![](/3/3DPolarImage.png) |
| 如果将三维位置表示为沿三条参考线的三个距离，则可以更容易地进行操作。因此，在三维空间中，我们创建了第三条参考线，它穿过原点，与其他两条参考线成90度角。这就是所谓的Z轴。同样，我们对这条线的方向有两种选择。线条可以 "从纸里出来 "或 "进入纸里"。这两种选择被称为 "右手 "或 "左手 "坐标系，因为它们可以用一个人的右手或左手来表示。 | ![](/3/3DCoordinatesImage.png) |
| 用你的右手（假设Y轴向上），将你的拇指指向X轴的方向，食指指向Y轴的方向。对于右手坐标系，你的中指将指向Z轴的方向。如果你的拇指指向右边，Z轴就会向你走来。 | ![](/3/RightHandedImage.png) |
| 如果你用你的左手，把你的拇指放在X轴的方向，把你的食指放在Y轴的方向，你的中指将指向相反的方向，或远离你。这是一个左手的坐标系统。 | ![](/3/LeftHandedImage.png) |
| 关于应该使用哪种三维坐标系统，存在着争议。微软的Direct3D系统使用的是左手坐标系，而WebGL和大多数工程师和数学家使用的是右手坐标系。这其实并不是一场辩论，而只是一种选择。重要的是要保持一致，始终使用相同的惯例。在这些教程的剩余部分，我们将使用右手直角坐标系来指定位置。如右图所示，位置将使用3条参考线的3个距离来指定，Z轴总是朝向你，离开屏幕。 | ![](/3/3DPointsImage.png) |

### 操纵位置

一个点可以被操纵来改变其位置。这是所有计算机图形动画的本质--一个点的位置随时间变化。典型的操作包括平移、旋转和缩放。我们将在第6节讨论位置操作的细节。

### WebGL 点数

WebGL在同质坐标中指定一个位置，它是一个4分量的值--（x,y,z,w）。前三个值，x、y、z，是沿直角坐标系的轴线的距离。最后一个值，w，用于透视计算，它将在后面详细讨论。对于我们现在的目的，w将总是被设置为1.0。

当您向WebGL程序描述模型时，您的程序有时可以通过只存储和指定您关心的值，让WebGL填写您不关心的值来节省内存。例如，如果你想创建一个2D图形渲染，你可以存储(x,y)值，而z值将被自动设置为0。

对于正常的三维模型，你的程序将为每个点存储三个浮点值。w分量将不被存储，并将永远默认为1.0。浮点值需要4个字节的内存。这意味着模型中的每个点将需要12字节的内存。WebGL 1.0要求顶点的所有属性都被定义为浮点数值。

WebGL支持对三维空间中的单个点进行渲染。如果你想绘制一个或多个点，你可以将这些点放入一个数组，然后调用drawArrays()函数。这些点在你的渲染中会显示为单个像素。当我们在这些教程的后面学习GL着色器时，你将学习如何改变点的gl_PointSize属性以使它们在渲染中显得更大。