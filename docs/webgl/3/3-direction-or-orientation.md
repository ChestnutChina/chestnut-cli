## 方向/定位

位置告诉我们，某物与一个商定的参照系（即一个全球原点和一组坐标系轴）的关系是什么。物体的方向也同样重要。一个物体是朝北，朝南，朝下，还是朝上？方向可以是**相对的**，也可以是**绝对的**。

- **相对方向**是与一个物体的当前位置和方向有关的。例如，如果一个人面向北方，西边是他们的左边，东边是他们的右边。诸如左/右、前/后、上/下等方向是相对于一个物体的当前方位而言的。
- **绝对方向**是相对于一个固定的参考框架而言的，并且无论其位置如何，总是指向同一个方向。像北/南和东/西这样的方向就是绝对方向的例子。(在这次讨论中，我们将忽略南北两极的问题位置！）。

有许多表示方向的方法，包括距离和角度的各种组合，我们可以通过类似于上一节课关于位置的讨论来发展一些不同的方法。但我们还是跳到方向的标准表示法--向量。向量使用与笛卡尔坐标类似的符号--沿参考线的距离。事实上，向量和位置经常被混淆，所以我们需要花一些时间来区分它们。

### 向量

|||
|--|--|
| 向量可以直观地表示为一条一端有箭头的线。向量代表方向，所以箭头很重要。箭头指向向量所代表的方向。没有箭头的一端被称为 "尾部"；有箭头的一端被称为 "头部"。一个向量的定义是沿着每条参考线从尾部到头部的变化。因此，一个向量是由两个数字定义的。"x的变化程度 "和 "y的变化程度"。这些数值通常被称为 "delta x"（或dx）和 "delta y"（或dy），如右边的例子所示。如果你用两个点来定义一个向量，"delta x "和 "delta y "值的计算方法是用头部坐标减去尾部坐标，即（头-尾）。| ![](/3/VectorImage.png) |
| 由于向量的标准表示法是两个距离，而二维空间中位置的直角坐标是两个距离，所以位置和方向有时会被混淆。为了将这些概念分开，本教程的其余部分将通过将距离放在角括号内来表示向量，如<2,5>，或者一般来说，对于二维空间，如\<dx,dy>。对于3维空间，一个向量将用3个偏移量来表示。\<dx,dy,dz>。如果我们用变量名来表示点或向量，我们将使用单字母，如a、b或c来表示点，而我们将使用加粗的字母，如a、b或c来表示向量。右边的图片显示了一些点和向量的例子。 | ![](/3/VectorNotationImage.png) |
| 一个由\<dx,dy>表示法定义的向量没有位置! 这样一个向量代表的是基于商定的参考框架的绝对方向。让我们再说一遍。一个由\<dx,dy>表示法定义的向量有一个方向，但它没有位置。两个具有相同\<dx,dy>值的向量是相同的，不管你如何直观地画它们。在右图中，3个蓝色向量都是相同的。绿色向量代表的方向与蓝色向量相同，但它的长度不同。一个向量实际上代表两件事：一个方向和一个距离（或长度）。它的方向是由其头部的箭头表示的。它的距离是它从尾部到头部的长度。如果一个向量的长度正好是1个单位，它被称为单位向量。如果一组向量在转换为单位向量后有相同的\<dx,dy>值，它们都有相同的方向。我们通常会将向量转换为单位向量，因为它简化了操作向量的数学计算，而且它使特定方向的表示方法独一无二。当你把一个向量转换为单位长度时，你就是在 "归一化 "这个向量，因为所有指向同一方向的向量都有相同的单位向量。因此，一个归一化的向量是一个特定的绝对方向的唯一代表。 | ![](/3/VectorsNotUniqueImage.png) |
| 如果你想用一个向量来表示相对方向，你需要一个向量和一个特定的尾部位置。一对值，（点，向量），代表一个相对方向。例如，点（2,3）和向量<3,1>代表从具体位置（2,3）开始的相对方向。 | ![](/3/VectorRelativeImage.png) |

### 向量与点

|||
|--|--|
| 请注意，如果空间中的一个点被用来代表从原点出发的方向，点和向量的定义是使用相同的距离值。(检查右图中的(2,3)点和<2,3>向量）。然而，这并不意味着点和向量是相同的。点是空间中一个单一的、独特的位置，而向量是一个方向。点和向量的主要区别在于，点有一个位置，而向量没有。如果你移动一个点，它的位置已经改变。如果你移动一个向量，你并没有以任何方式改变这个向量! 点和向量代表不同的东西，对操作的反应也不同。 | ![](/3/VectorConfusionImage.png) |

### 向量总结

- 方向总是相对于某些东西而言的
- 一个向量代表与参考框架有关的绝对方向。
- 一个向量在与起点结合时代表一个相对方向。
- 计算机图形学通常使用两个距离<dx,dy>表示二维向量，使用三个距离<dx,dy,dz>表示三维向量。
- 一个向量同时代表方向和距离。
- 使一个向量的长度为一个单位，使其 "正常化 "为该方向的唯一代表。
- 向量不能被 "移动"，因为它们没有位置!

### WebGL 向量

向量被广泛用于模型表示和描述动画中物体的运动。它们由三个分量值\<dx, dy, dz>表示，使用浮点数。这意味着一个向量需要12个字节的内存。向量可以用其他数据类型来表示，如上一节所述，这可以节省内存，但很少有人这样做。

### 操纵向量

一个向量可以被操纵以改变其方向和长度。以下操作具有物理意义：
- 旋转 - 改变一个向量的方向。
- 缩放 - 改变一个向量的长度。
- 归一化 - 保持向量的方向不变，但使其长度为一个单位。
- 将两个向量相加。结果是一个代表方向的向量，是两个原点的总和。
- 减去两个向量。其结果是一个代表方向的向量，是两个原点的差。
- 给定一个点，给它加上一个向量。其结果是一个新的点，位于一个新的位置。
- 给定一个点，从它身上减去一个向量。其结果是一个新的点在一个新的位置上。

请注意，将两个向量相乘或相除并没有物理意义。

### JavaScript 向量对象

向量表示和操作是任何WebGL程序的基本要素。这种功能应该实现一次，然后根据需要使用。下面的WebGL程序示例允许您检查一个名为**Learn_webgl_vector3**的JavaScript类。请研究代码并注意该JavaScript类的以下内容。

它并不存储一个向量。它是一个向量操作的集合。
向量被存储为Float32Array，这是一个特殊的数据类型，专门为WebGL编程引入到JavaScript中。Float32Array是一个浮点数值的数组，其存储格式与GPU的浮点数值相同。这使得来自WebGL程序的数据与GPU硬件的二进制兼容。
大多数成员函数并不创建新的向量；它们对已经存在的向量进行操作。这是设计上的。这个功能将被用于每秒发生30到60次的渲染。你最好不要不断地创建新的向量，然后 "扔掉它们"。这将给JavaScript垃圾收集器带来压力，因为它要努力跟上回收未使用对象的步伐。
这些函数的实现是为了提高速度，尽量减少或不检查错误。

点击查看[交互式例子](http://learnwebgl.brown37.net/model_data/model_direction.html#a-javascript-vector-object)

[在新的标签或窗口中打开这个webgl程序](http://learnwebgl.brown37.net/model_data/vector_example/vector_example.html)

在这些教程中创建的每个WebGL程序都使用**Learn_webgl_vector3**类来创建和操作向量。